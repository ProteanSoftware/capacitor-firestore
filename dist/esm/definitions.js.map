{"version":3,"file":"definitions.js","sourceRoot":"","sources":["../../src/definitions.ts"],"names":[],"mappings":"AAAA,wCAAwC;AAsCxC,MAAM,UAAU,qBAAqB,CAAC,KAAa,EAAE,QAAwB,EAAE,KAAU;IACvF,OAAO;QACL,SAAS,EAAE,KAAK;QAChB,KAAK,EAAE,QAAQ;QACf,KAAK,EAAE,KAAK;KACb,CAAC;AACJ,CAAC","sourcesContent":["/// <reference types=\"@capacitor/cli\" />\r\n\r\ndeclare module \"@capacitor/cli\" {\r\n  export interface PluginsConfig {\r\n    CapacitorFirestore?: FirestoreConfig;\r\n  }\r\n}\r\n\r\nexport interface FirestoreConfig {\r\n  /**\r\n   * Set the GCP/Firebase project id\r\n   *\r\n   * @since 1.0.0\r\n   * @example \"my-first-project\"\r\n   */\r\n  projectId?: string;\r\n\r\n  /**\r\n   * Set the Firebase application id\r\n   *\r\n   * @since 1.0.0\r\n   * @example \"1:00000000000:web:abc00000000000000000\"\r\n   */\r\n  applicationId?: string;\r\n\r\n  /**\r\n  * Set the Firebase api key\r\n  *\r\n  * @since 1.0.0\r\n  * @example \"XxxxxxxxxxxXXxxxxxxxxx\"\r\n  */\r\n  apiKey?: string;\r\n}\r\n\r\nexport type CallbackId = string;\r\n\r\nexport type QueryOperators = \"==\" | \">=\" | \"<=\" | \"<\" | \">\" | \"array-contains\";\r\n\r\nexport function createQueryConstraint(field: string, operator: QueryOperators, value: any): QueryConstraint {\r\n  return {\r\n    fieldPath: field,\r\n    opStr: operator,\r\n    value: value\r\n  };\r\n}\r\n\r\nexport interface QueryConstraint {\r\n  fieldPath: string;\r\n  opStr: QueryOperators;\r\n  value: any;\r\n}\r\n\r\nexport interface ColllectionReference extends DocumnentReference {\r\n  queryConstraints?: QueryConstraint[];\r\n}\r\n\r\nexport interface DocumnentReference {\r\n  reference: string;\r\n}\r\n\r\nexport interface DocumentSnapshot<T> {\r\n  /**\r\n  * The id of the document.\r\n  *\r\n  * @since 1.0.0\r\n  */\r\n  id: string;\r\n\r\n  /**\r\n   * The fields of the document or null if the document doesn't exist.\r\n   *\r\n   * @since 1.0.0\r\n   */\r\n  data: T | null;\r\n}\r\n\r\nexport interface CollectionSnapshot<T> {\r\n  collection: DocumentSnapshot<T>[];\r\n}\r\n\r\nexport interface CustomToken {\r\n  token: string;\r\n}\r\n\r\nexport interface RemoveSnapshotListener {\r\n  callbackId: CallbackId;\r\n}\r\n\r\nexport type DocumentSnapshotCallback<T> = (data: DocumentSnapshot<T> | null, err?: any) => void;\r\n\r\nexport type CollectionSnapshotCallback<T> = (data: CollectionSnapshot<T> | null, err?: any) => void;\r\n\r\nexport interface CapacitorFirestorePlugin {\r\n  /**\r\n   * Configure the firestore instance with new configuration options.\r\n   * @param options \r\n   */\r\n  initializeFirestore(options: FirestoreConfig): Promise<void>;\r\n  \r\n  /**\r\n   * Login to firestore using a customer JWT token.\r\n   * @param options \r\n   */\r\n  signInWithCustomToken(options: CustomToken): Promise<void>;\r\n  \r\n  /**\r\n   * Listen for snapshot changes on a document.\r\n   * @param options \r\n   * @param callback\r\n   * @returns The callback id which can be used to remove the listener.\r\n   */\r\n  addDocumentSnapshotListener<T>(options: DocumnentReference, callback: DocumentSnapshotCallback<T>): Promise<CallbackId>;\r\n  \r\n  /**\r\n   * Listen for snapshot changes on a collection.\r\n   * @param options \r\n   * @param callback \r\n   * @returns The callback id which can be used to remove the listener.\r\n   */\r\n  addCollectionSnapshotListener<T>(options: ColllectionReference, callback: CollectionSnapshotCallback<T>): Promise<CallbackId>;\r\n  \r\n  /**\r\n   * Stop listening for snapshot changes on a document or collection.\r\n   * @param options\r\n   */\r\n  removeSnapshotListener(options: RemoveSnapshotListener): Promise<void>;\r\n}\r\n"]}